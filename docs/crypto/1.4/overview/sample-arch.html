<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="4 Sample architectures" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://arm-software.github.io/psa-api/crypto/1.4/overview/sample-arch.html" />
<link rel="canonical" href="https://arm-software.github.io/psa-api/crypto/1.4/overview/sample-arch.html" />
<meta property="og:site_name" content="PSA Certified Crypto API 1.4" />
<meta property="og:description" content="This section describes some example architectures that can be used for implementations of the interface described in this specification. This list is not exhaustive and the section is entirely non-..." />
<meta name="description" content="This section describes some example architectures that can be used for implementations of the interface described in this specification. This list is not exhaustive and the section is entirely non-..." />

    <title>4 Sample architectures &#8212; PSA Certified Crypto API 1.4</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=f6a572b4" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="preconnect" type="text/css" href="https://fonts.googleapis.com" />
    <link rel="preconnect" type="text/css" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;1,300;1,400&display=swap" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:ital,wght@0,300;0,400;1,300&display=swap" />
    <script src="../_static/documentation_options.js?v=8ef9151b"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5 Library conventions" href="conventions.html" />
    <link rel="prev" title="3 Functionality overview" href="functionality.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ARM_LOGO-2025_INK_RGB.svg" alt="Logo of PSA Certified Crypto API"/>
            </a></p><hr />
<h3><a href="../index.html">PSA Certified<br />Crypto API</a></h3>
IHI 0086<br/>
Non-confidential<br/>
Version 1.4.1
<hr />
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/about.html">About this document</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1 Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="goals.html">2 Design goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="functionality.html">3 Functionality overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4 Sample architectures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#single-partition-architecture">4.1 Single-partition architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cryptographic-token-and-single-application-processor">4.2 Cryptographic token and single-application processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cryptoprocessor-with-no-key-storage">4.3 Cryptoprocessor with no key storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multi-client-cryptoprocessor">4.4 Multi-client cryptoprocessor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multi-cryptoprocessor-architecture">4.5 Multi-cryptoprocessor architecture</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conventions.html">5 Library conventions</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation.html">6 Implementation considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">7 Usage considerations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/library/index.html">8 Library management reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/keys/index.html">9 Key management reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/ops/index.html">10 Cryptographic operation reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/example_header.html">A Example header file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/encodings.html">B Algorithm and key type encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/specdef_values.html">C Example macro implementations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/sra.html">D Security Risk Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/history.html">E Changes to the API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atg_c-identifiers.html">Index of API elements</a></li>
</ul>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="sample-architectures">
<span id="architectures"></span><h1><span class="section-number">4 </span>Sample architectures<a class="headerlink" href="#sample-architectures" title="Link to this heading">¶</a></h1>
<p>This section describes some example architectures that can be used for
implementations of the interface described in this specification. This list is
not exhaustive and the section is entirely non-normative.</p>
<section id="single-partition-architecture">
<h2><span class="section-number">4.1 </span>Single-partition architecture<a class="headerlink" href="#single-partition-architecture" title="Link to this heading">¶</a></h2>
<p>In the single-partition architecture, there is no security boundary inside the system. The
application code can access all the system memory, including the memory used by
the cryptographic services described in this specification. Thus, the
architecture provides <a class="reference internal" href="../about/about.html#term-no-isolation"><span class="term">no isolation</span></a>.</p>
<p>This architecture does not conform to the Arm <em>Platform Security Architecture
Security Model</em>. However, it is useful for providing cryptographic services
that use the same interface, even on devices that cannot support any security
boundary. So, while this architecture is not the primary design goal of the API
defined in the present specification, it is supported.</p>
<p>The functions in this specification simply execute the underlying algorithmic
code. Security checks can be kept to a minimum, since the cryptoprocessor cannot
defend against a malicious application. Key import and export copy data inside
the same memory space.</p>
<p>This architecture also describes a subset of some larger systems, where the
cryptographic services are implemented inside a high-security partition,
separate from the code of the main application, though it shares this
high-security partition with other platform security services.</p>
</section>
<section id="cryptographic-token-and-single-application-processor">
<span id="isolated-cryptoprocessor"></span><h2><span class="section-number">4.2 </span>Cryptographic token and single-application processor<a class="headerlink" href="#cryptographic-token-and-single-application-processor" title="Link to this heading">¶</a></h2>
<p>This system is composed of two partitions: one is a cryptoprocessor and the
other partition runs an application. There is a security boundary between the
two partitions, so that the application cannot access the cryptoprocessor,
except through its public interface. Thus, the architecture provides
<a class="reference internal" href="../about/about.html#term-cryptoprocessor-isolation"><span class="term">cryptoprocessor isolation</span></a>. The cryptoprocessor has
some non-volatile storage, a TRNG, and possibly, some cryptographic accelerators.</p>
<p>There are a number of potential physical realizations: the cryptoprocessor might
be a separate chip, a separate processor on the same chip, or a logical
partition using a combination of hardware and software to provide the isolation.
These realizations are functionally equivalent in terms of the offered software
interface, but they would typically offer different levels of security
guarantees.</p>
<p>The Crypto API in the application processor consists of a thin layer of code
that translates function calls to remote procedure calls in the cryptoprocessor.
All cryptographic computations are, therefore, performed inside the
cryptoprocessor. Non-volatile keys are stored inside the cryptoprocessor.</p>
</section>
<section id="cryptoprocessor-with-no-key-storage">
<h2><span class="section-number">4.3 </span>Cryptoprocessor with no key storage<a class="headerlink" href="#cryptoprocessor-with-no-key-storage" title="Link to this heading">¶</a></h2>
<p>As in the <a class="reference internal" href="#isolated-cryptoprocessor"><span class="secref">Cryptographic token and single-application processor</span></a> architecture, this system
is also composed of two partitions separated by a security boundary and also
provides <a class="reference internal" href="../about/about.html#term-cryptoprocessor-isolation"><span class="term">cryptoprocessor isolation</span></a>.
However, unlike the previous architecture, in this system, the cryptoprocessor
does not have any secure, persistent storage that could be used to store
application keys.</p>
<p>If the cryptoprocessor is not capable of storing cryptographic material, then
there is little use for a separate cryptoprocessor, since all data would have to
be imported by the application.</p>
<p>The cryptoprocessor can provide useful services if it is able to store at least
one key. This might be a hardware unique key that is burnt to one-time
programmable memory during the manufacturing of the device. This key can be used
for one or more purposes:</p>
<ul class="simple">
<li><p>Encrypt and authenticate data stored in the application processor.</p></li>
<li><p>Communicate with a paired device.</p></li>
<li><p>Allow the application to perform operations with keys that are derived from
the hardware unique key.</p></li>
</ul>
</section>
<section id="multi-client-cryptoprocessor">
<h2><span class="section-number">4.4 </span>Multi-client cryptoprocessor<a class="headerlink" href="#multi-client-cryptoprocessor" title="Link to this heading">¶</a></h2>
<p>This is an expanded variant of
<a class="reference internal" href="#isolated-cryptoprocessor"><span class="secref">Cryptographic token and single-application processor</span></a>. In this
variant, the cryptoprocessor serves multiple applications that are mutually
untrustworthy. This architecture provides <a class="reference internal" href="../about/about.html#term-caller-isolation"><span class="term">caller isolation</span></a>.</p>
<p>In this architecture, API calls are translated to remote procedure calls, which
encode the identity of the client application. The cryptoprocessor carefully
segments its internal storage to ensure that a client’s data is never leaked to
another client.</p>
</section>
<section id="multi-cryptoprocessor-architecture">
<h2><span class="section-number">4.5 </span>Multi-cryptoprocessor architecture<a class="headerlink" href="#multi-cryptoprocessor-architecture" title="Link to this heading">¶</a></h2>
<p>This system includes multiple cryptoprocessors. There are several reasons to
have multiple cryptoprocessors:</p>
<ul class="simple">
<li><p>Different compromises between security and performance for different keys.
Typically, this means a cryptoprocessor that runs on the same hardware as the
main application and processes short-term secrets, a secure element or a
similar separate chip that retains long-term secrets.</p></li>
<li><p>Independent provisioning of certain secrets.</p></li>
<li><p>A combination of a non-removable cryptoprocessor and removable ones, for
example, a smartcard or HSM.</p></li>
<li><p>Cryptoprocessors managed by different stakeholders who do not trust each
other.</p></li>
</ul>
<p>The keystore implementation needs to dispatch each request to the correct
processor. For example:</p>
<ul class="simple">
<li><p>All requests involving a non-extractable key must be processed in the
cryptoprocessor that holds that key.</p></li>
<li><p>Requests involving a persistent key must be processed in the cryptoprocessor
that corresponds to the key’s lifetime value.</p></li>
<li><p>Requests involving a volatile key might target a cryptoprocessor based on
parameters supplied by the application, or based on considerations such as
performance inside the implementation.</p></li>
</ul>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169; 2018-2026 Arm Limited and/or its affiliates.
      
    </div>

    

    
  </body>
</html>