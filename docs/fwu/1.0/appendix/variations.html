<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="3 Variation in system design parameters" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://arm-software.github.io/psa-api/fwu/1.0/appendix/variations.html" />
<link rel="canonical" href="https://arm-software.github.io/psa-api/fwu/1.0/appendix/variations.html" />
<meta property="og:site_name" content="PSA Certified Firmware Update API 1.0" />
<meta property="og:description" content="Depending on the system design and product requirements, an implementation is permitted to collapse a chain of transitions for a component, where this does not remove information that is required b..." />
<meta name="description" content="Depending on the system design and product requirements, an implementation is permitted to collapse a chain of transitions for a component, where this does not remove information that is required b..." />

    <title>3 Variation in system design parameters &#8212; PSA Certified Firmware Update API 1.0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=f6a572b4" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
    <link rel="preconnect" type="text/css" href="https://fonts.googleapis.com" />
    <link rel="preconnect" type="text/css" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;1,300;1,400&display=swap" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:ital,wght@0,300;0,400;1,300&display=swap" />
    <script src="../_static/documentation_options.js?v=c5e1e573"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4 Security Risk Assessment" href="sra.html" />
    <link rel="prev" title="2 Example usage" href="examples.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ARM_LOGO-2025_INK_RGB.svg" alt="Logo of PSA Certified Firmware Update API"/>
            </a></p><hr />
<h3><a href="../index.html">PSA Certified<br />Firmware Update API</a></h3>
IHI 0093<br/>
Non-confidential<br/>
Version 1.0.1
<hr />
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About this document</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/intro.html">1 Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/goals.html">2 Design goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/architecture.html">3 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/programming-model.html">4 Programming model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">5 API reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="example-header.html">A Example header file</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">B Example usage</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">C Variation in system design parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#component-with-non-volatile-staging">C.1 Component with non-volatile staging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-that-requires-a-reboot-but-no-trial">C.1.1 Component that requires a reboot, but no trial</a></li>
<li class="toctree-l3"><a class="reference internal" href="#component-that-requires-a-trial-but-no-reboot">C.1.2 Component that requires a trial, but no reboot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#component-that-requires-neither-a-reboot-nor-a-trial">C.1.3 Component that requires neither a reboot, nor a trial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#component-with-volatile-staging">C.2 Component with volatile staging</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sra.html">D Security Risk Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="change-history.html">E Document change history</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atg_c-identifiers.html">Index of API elements</a></li>
</ul>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="variation-in-system-design-parameters">
<span id="variations"></span><h1><span class="section-number">C </span>Variation in system design parameters<a class="headerlink" href="#variation-in-system-design-parameters" title="Link to this heading">¶</a></h1>
<p>Depending on the system design and product requirements, an implementation is permitted to collapse a chain of transitions for a component, where this does not remove information that is required by the update client, or compromise other system requirements. This can result in some states and transitions being eliminated from the state model for that component’s firmware store.</p>
<p>An implementation is also permitted to provide either volatile or persistent behavior for the WRITING, CANDIDATE, FAILED, and UPDATED states. See also <a class="reference internal" href="../overview/programming-model.html#volatile-states"><span class="secref">Volatile states</span></a>. Volatile states cause additional transitions to occur at reboot.</p>
<p><span><a class="reference internal" href="#tab-variations"><span class="numref">Table 7</span></a></span> lists a sample of the possible variations that are illustrated in this appendix, as well as the complete state model provided in <a class="reference internal" href="../overview/programming-model.html#programming-model"><span class="secref">Programming model</span></a>.</p>
<table class="longtable docutils align-left" id="tab-variations">
<caption><span class="caption-number">Table 7 </span><span class="caption-text">Variations of the state model</span><a class="headerlink" href="#tab-variations" title="Link to this table">¶</a></caption>
<colgroup>
<col style="width: 18.2%" />
<col style="width: 18.2%" />
<col style="width: 18.2%" />
<col style="width: 45.5%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Reboot required</p></th>
<th class="head"><p>Trial required</p></th>
<th class="head"><p>Staging type <sup>a</sup></p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Non-volatile</p></td>
<td><p>See <a class="reference internal" href="../overview/programming-model.html#state-transitions"><span class="std std-ref">complete model</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Volatile</p></td>
<td><p>See <a class="reference internal" href="#fig-states-volatile"><span class="std std-ref">complete model with volatile staging</span></a></p></td>
</tr>
<tr class="row-even"><td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Non-volatile</p></td>
<td><p>See <a class="reference internal" href="#states-reboot-no-trial"><span class="std std-ref">no-trial model</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>Yes</p></td>
<td><p>No</p></td>
<td><p>Volatile</p></td>
<td><p>See <a class="reference internal" href="#fig-states-no-trial-volatile"><span class="std std-ref">no-trial model with volatile staging</span></a></p></td>
</tr>
<tr class="row-even"><td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>Non-volatile</p></td>
<td><p>See <a class="reference internal" href="#states-no-reboot-trial"><span class="std std-ref">no-reboot model</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>No</p></td>
<td><p>Yes</p></td>
<td><p>Volatile</p></td>
<td><p>See <a class="reference internal" href="#fig-states-no-reboot-volatile"><span class="std std-ref">no-reboot model with volatile staging</span></a></p></td>
</tr>
<tr class="row-even"><td><p>No</p></td>
<td><p>No</p></td>
<td><p>Non-volatile</p></td>
<td><p>See <a class="reference internal" href="#states-no-reboot-no-trial"><span class="std std-ref">basic state model</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>No</p></td>
<td><p>No</p></td>
<td><p>Volatile</p></td>
<td><p>See <a class="reference internal" href="#fig-states-no-reboot-no-trial-volatile"><span class="std std-ref">basic state model with volatile staging</span></a></p></td>
</tr>
</tbody>
</table>
<ol class="loweralpha">
<li><p>If the staging type is volatile, then CANDIDATE, WRITING, FAILED, and UPDATED states are volatile.</p>
<p>If the staging type is non-volatile, then CANDIDATE state is non-volatile, and it is <a class="reference internal" href="../about.html#term-implementation-defined"><span class="scterm">implementation defined</span></a> whether WRITING, FAILED, and UPDATED states are volatile.</p>
</li>
</ol>
<section id="component-with-non-volatile-staging">
<h2><span class="section-number">C.1 </span>Component with non-volatile staging<a class="headerlink" href="#component-with-non-volatile-staging" title="Link to this heading">¶</a></h2>
<p>A component that does not have <a class="reference internal" href="../about.html#term-volatile-staging"><span class="term">volatile staging</span></a> will maintain the CANDIDATE component state across a reboot, and can optionally maintain the WRITING, FAILED, and UPDATED component states across a reboot.</p>
<ul class="simple">
<li><p>Additional reboot transitions for states with optional volatility are indicated with ‘†’ and ‘‡’ marks on the state, and described in the figure legend.</p></li>
</ul>
<p>See <a class="reference internal" href="#variations-volatile"><span class="secref">Component with volatile staging</span></a> for example state models for a component that has volatile staging.</p>
<section id="component-that-requires-a-reboot-but-no-trial">
<span id="states-reboot-no-trial"></span><h3><span class="section-number">C.1.1 </span>Component that requires a reboot, but no trial<a class="headerlink" href="#component-that-requires-a-reboot-but-no-trial" title="Link to this heading">¶</a></h3>
<p>If a component does not require testing before committing the update, the TRIAL and REJECTED states are not used.</p>
<ul class="simple">
<li><p>The reboot that installs the firmware will transition the component to UPDATED on success, or FAILED on failure, unless the target state is volatile, in which case the reboot will transition the component to READY.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">accept</span></code> operation is never used.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reject</span></code> operation is only used to abandon an update that has been STAGED.</p></li>
</ul>
<p>The simplified flow is shown in <span><a class="reference internal" href="#fig-states-no-trial"><span class="numref">Figure 9</span></a></span>.</p>
<figure class="align-default" id="fig-states-no-trial">
<a class="reference internal image-reference" href="../_images/no-trial.svg"><img alt="../_images/no-trial.svg" src="../_images/no-trial.svg" style="width: 420.3px; height: 522.9px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 9 </span><span class="caption-text">State model for a component that does not require a trial</span><a class="headerlink" href="#fig-states-no-trial" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="component-that-requires-a-trial-but-no-reboot">
<span id="states-no-reboot-trial"></span><h3><span class="section-number">C.1.2 </span>Component that requires a trial, but no reboot<a class="headerlink" href="#component-that-requires-a-trial-but-no-reboot" title="Link to this heading">¶</a></h3>
<p>If a component does not require a reboot to complete installation, the STAGED and REJECTED states are not used.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">install</span></code> operation will complete the installation immediately, transitioning to TRIAL if successful.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">reject</span></code> operation from TRIAL state does not require a reboot to complete. A <code class="docutils literal notranslate"><span class="pre">reject</span></code> operation from TRIAL states transitions directly to FAILED.</p></li>
</ul>
<p>The simplified flow is shown in <span><a class="reference internal" href="#fig-states-no-reboot"><span class="numref">Figure 10</span></a></span>:</p>
<figure class="align-default" id="fig-states-no-reboot">
<a class="reference internal image-reference" href="../_images/no-reboot.svg"><img alt="../_images/no-reboot.svg" src="../_images/no-reboot.svg" style="width: 295.2px; height: 599.4px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 10 </span><span class="caption-text">State model for a component that does not require a reboot</span><a class="headerlink" href="#fig-states-no-reboot" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition-implementation-note admonition">
<p class="admonition-title">Implementation note</p>
<p>There is no ability for the update service to automatically reject a TRIAL, because a reboot does not affect this component’s installation.</p>
</div>
</section>
<section id="component-that-requires-neither-a-reboot-nor-a-trial">
<span id="states-no-reboot-no-trial"></span><h3><span class="section-number">C.1.3 </span>Component that requires neither a reboot, nor a trial<a class="headerlink" href="#component-that-requires-neither-a-reboot-nor-a-trial" title="Link to this heading">¶</a></h3>
<p>If a component does not require a reboot to complete installation, and does not require testing before committing the update, then the STAGED, TRIAL, and REJECTED states are not used.</p>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">install</span></code> operation will complete the installation immediately, transitioning to UPDATED if successful.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">accept</span></code> and <code class="docutils literal notranslate"><span class="pre">reject</span></code> operations are not used.</p></li>
</ul>
<p>The simplified flow is shown in <span><a class="reference internal" href="#fig-states-no-reboot-no-trial"><span class="numref">Figure 11</span></a></span>:</p>
<figure class="align-default" id="fig-states-no-reboot-no-trial">
<a class="reference internal image-reference" href="../_images/no-reboot-no-trial.svg"><img alt="../_images/no-reboot-no-trial.svg" src="../_images/no-reboot-no-trial.svg" style="width: 295.2px; height: 496.8px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 11 </span><span class="caption-text">State model for a component that does not require a reboot or trial</span><a class="headerlink" href="#fig-states-no-reboot-no-trial" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>
<section id="component-with-volatile-staging">
<span id="variations-volatile"></span><h2><span class="section-number">C.2 </span>Component with volatile staging<a class="headerlink" href="#component-with-volatile-staging" title="Link to this heading">¶</a></h2>
<p>A component that has <a class="reference internal" href="../about.html#term-volatile-staging"><span class="term">volatile staging</span></a> does not maintain the WRITING, CANDIDATE, FAILED, and UPDATED component states across a reboot.</p>
<p>In each case the state model is very similar to the associated state model for a component with non-volatile staging, except that a reboot now affects almost all states:</p>
<ul class="simple">
<li><p>WRITING, CANDIDATE, and FAILED states will always revert to READY, discarding any image that had been prepared or rejected.</p></li>
<li><p>UPDATED state is progressed to READY.</p></li>
<li><p>Existing reboot transitions from STAGED, TRIAL, and REJECTED, that go to FAILED in the non-volatile-staging model, are reverted to READY.</p></li>
<li><p>The existing reboot transition from STAGED to UPDATED for a successful installation in the ‘no trial’ model, transitions to READY.</p></li>
</ul>
<p>The modified flows are shown in the following figures:</p>
<ul class="simple">
<li><p>Modified reboot transitions are shown explicitly in the diagrams.</p></li>
<li><p>New reboot transitions are indicated with ‘*’, ‘†’, and ‘‡’ marks on the state, and described in the diagram legend.</p></li>
</ul>
<figure class="align-default" id="fig-states-volatile">
<a class="reference internal image-reference" href="../_images/volatile.svg"><img alt="../_images/volatile.svg" src="../_images/volatile.svg" style="width: 386.1px; height: 625.5px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 12 </span><span class="caption-text">Full state model for a component with volatile staging</span><a class="headerlink" href="#fig-states-volatile" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-states-no-trial-volatile">
<a class="reference internal image-reference" href="../_images/no-trial-volatile.svg"><img alt="../_images/no-trial-volatile.svg" src="../_images/no-trial-volatile.svg" style="width: 288.0px; height: 522.9px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 13 </span><span class="caption-text">State model for a component with volatile staging that does not require a trial</span><a class="headerlink" href="#fig-states-no-trial-volatile" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-states-no-reboot-volatile">
<a class="reference internal image-reference" href="../_images/no-reboot-volatile.svg"><img alt="../_images/no-reboot-volatile.svg" src="../_images/no-reboot-volatile.svg" style="width: 288.0px; height: 612.9px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 14 </span><span class="caption-text">State model for a component with volatile staging that does not require a reboot</span><a class="headerlink" href="#fig-states-no-reboot-volatile" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="fig-states-no-reboot-no-trial-volatile">
<a class="reference internal image-reference" href="../_images/no-reboot-no-trial-volatile.svg"><img alt="../_images/no-reboot-no-trial-volatile.svg" src="../_images/no-reboot-no-trial-volatile.svg" style="width: 288.0px; height: 496.8px;" />
</a>
<figcaption>
<p><span class="caption-number">Figure 15 </span><span class="caption-text">State model for a component with volatile staging that does not require a reboot or trial</span><a class="headerlink" href="#fig-states-no-reboot-no-trial-volatile" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169; 2020-2025 Arm Limited and/or its affiliates.
      
    </div>

    

    
  </body>
</html>