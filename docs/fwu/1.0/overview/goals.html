<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="2. Design goals" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://arm-software.github.io/psa-api/fwu/1.0/overview/goals.html" />
<link rel="canonical" href="https://arm-software.github.io/psa-api/fwu/1.0/overview/goals.html" />
<meta property="og:site_name" content="PSA Certified Firmware Update API 1.0" />
<meta property="og:description" content="This section describes the main goals and use cases for the Firmware Update API. Suitable for constrained devices: The interface is suitable for a range of embedded devices: from those with resourc..." />
<meta name="description" content="This section describes the main goals and use cases for the Firmware Update API. Suitable for constrained devices: The interface is suitable for a range of embedded devices: from those with resourc..." />

    <title>2. Design goals &#8212; PSA Certified Firmware Update API 1.0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="preconnect" type="text/css" href="https://fonts.googleapis.com" />
    <link rel="preconnect" type="text/css" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&display=swap" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3. Architecture" href="architecture.html" />
    <link rel="prev" title="1. Introduction" href="intro.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="design-goals">
<span id="id1"></span><h1><span class="section-number">2. </span>Design goals<a class="headerlink" href="#design-goals" title="Permalink to this heading">¶</a></h1>
<p>This section describes the main goals and use cases for the Firmware Update API.</p>
<section id="suitable-for-constrained-devices">
<span id="goal-constrained"></span><h2><span class="section-number">2.1. </span>Suitable for constrained devices<a class="headerlink" href="#suitable-for-constrained-devices" title="Permalink to this heading">¶</a></h2>
<p>The interface is suitable for a range of embedded devices: from those with resource-limited microcontrollers with one or two simple firmware images, to richer devices that have firmware images for multiple subsystems and separated applications.</p>
<p>For example, the following resource constraints can affect the Firmware Update API:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Resource</p></th>
<th class="head"><p>Impact on interface requirements</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Volatile memory capacity</p></td>
<td><p>Firmware images must be transferred to the device in blocks small enough to fit in device RAM.</p></td>
</tr>
<tr class="row-odd"><td><p>Non-volatile memory capacity</p></td>
<td><p>Firmware updates must be small enough to be stored in memory prior to installation.</p></td>
</tr>
<tr class="row-even"><td><p>Delivery bandwidth</p></td>
<td><p>Firmware download can take an extended period of time. The device might restart during this process.</p></td>
</tr>
<tr class="row-odd"><td><p>Energy and power</p></td>
<td><p>Downloading and installing updates must be reliable to avoid wasting energy on failed or repeated update attempts.</p></td>
</tr>
<tr class="row-even"><td><p>Performance of cryptographic primitives</p></td>
<td><p>The use of cryptographic protection for firmware updates must match the security requirements for the device.</p></td>
</tr>
</tbody>
</table>
<p>For devices with sufficient resources, it is recommended to follow the <span><em>Embedded Base Boot Requirements (EBBR) Specification</em> <a class="reference internal" href="../about.html#cite-ebbr"><span class="cite">[EBBR]</span></a></span> specification, which prescribes the <span><em>Unified Extensible Firmware Interface (UEFI) Specification</em> <a class="reference internal" href="../about.html#cite-uefi"><span class="cite">[UEFI]</span></a></span> capsule update interface.</p>
</section>
<section id="updating-the-platform-root-of-trust">
<h2><span class="section-number">2.2. </span>Updating the Platform Root of Trust<a class="headerlink" href="#updating-the-platform-root-of-trust" title="Permalink to this heading">¶</a></h2>
<p>The Firmware Update API is suitable for updating the device’s <a class="reference internal" href="../about.html#term-platform-root-of-trust"><span class="term">Platform Root of Trust</span></a> (PRoT) firmware.</p>
<p>The <span><em>Platform Security Model</em> <a class="reference internal" href="../about.html#cite-psm"><span class="cite">[PSM]</span></a></span> requires all of the <a class="reference internal" href="../about.html#term-updatable-platform-root-of-trust"><span class="term">Updatable Platform Root of Trust</span></a> firmware to be updatable. This can include bootloaders, Secure Partition Manager, Trusted OS, and runtime services. In some implementations, the PRoT can include a trusted subsystem with its own isolated and updatable firmware.</p>
<p>The <a class="reference internal" href="../about.html#cite-psm"><span class="cite">[PSM]</span></a> requirements for firmware update are also reflected in publications such as <span><em>Foundational Cybersecurity Activities for IoT Device Manufacturers</em> <a class="reference internal" href="../about.html#cite-ir8259"><span class="cite">[IR8259]</span></a></span> and <span><em>Cyber Security for Consumer Internet of Things: Baseline Requirements</em> <a class="reference internal" href="../about.html#cite-en303645"><span class="cite">[EN303645]</span></a></span>, and in certification schemes such as <span><em>PSA Certified™ Level 2 Lightweight Protection Profile</em> <a class="reference internal" href="../about.html#cite-psa-cert"><span class="cite">[PSA-CERT]</span></a></span>. <a class="reference internal" href="../about.html#cite-psa-cert"><span class="cite atg_c atg_c-cite">[PSA-CERT]</span></a> provides the following definition of the F.FIRMWARE_UPDATE security function, where the Target of Evaluation (TOE) refers to the PRoT:</p>
<blockquote>
<div><p>The TOE verifies the integrity and authenticity of the TOE update prior to performing the update.</p>
<p>The TOE also rejects attempts of firmware downgrade.</p>
</div></blockquote>
</section>
<section id="updating-the-application-root-of-trust">
<h2><span class="section-number">2.3. </span>Updating the Application Root of Trust<a class="headerlink" href="#updating-the-application-root-of-trust" title="Permalink to this heading">¶</a></h2>
<p>In addition to the PRoT firmware, other services that run in the <a class="reference internal" href="../about.html#term-secure-processing-environment"><span class="term">Secure processing environment</span></a> (SPE), but outside of the PRoT, can require update via the Firmware Update API. These services may be combined with the updatable PRoT in a single firmware image, or provided in a separate firmware image.</p>
</section>
<section id="flexibility-for-different-trust-models">
<h2><span class="section-number">2.4. </span>Flexibility for different trust models<a class="headerlink" href="#flexibility-for-different-trust-models" title="Permalink to this heading">¶</a></h2>
<p>There are a number of factors that impact the trust model that is used to authorize device updates and firmware execution. For example:</p>
<ul class="simple">
<li><p>A device can require firmware updates from multiple, mutually distrustful, firmware vendors.</p></li>
<li><p>Regulation can require implementations to use specified Certificate Authorities and PKI.</p></li>
<li><p>The entity that signs a firmware image can be distinct from the device owner or operator. An operator of a device can have a security policy that requires additional authorization to the firmware author’s policy.</p></li>
</ul>
<p>The Firmware Update API must be flexible enough to support the trust model required for particular products, without imposing unnecessary overheads on constrained devices.</p>
</section>
<section id="protocol-independence">
<h2><span class="section-number">2.5. </span>Protocol independence<a class="headerlink" href="#protocol-independence" title="Permalink to this heading">¶</a></h2>
<p>Different protocols are used to communicate with a device depending on the industry and application context. This includes open protocols, such as <span><em>Lightweight M2M</em> <a class="reference internal" href="../about.html#cite-lwm2m"><span class="cite">[LWM2M]</span></a></span>, and proprietary protocols from cloud service providers. These protocols serve the specific needs of their respective markets.</p>
<p>Some of the protocols have <a class="reference internal" href="../about.html#term-manifest"><span class="term">manifest</span></a> data that is separate from the firmware image.</p>
<p>The Firmware Update API must be independent of the protocol used by the update client to receive an update.</p>
</section>
<section id="transport-independence">
<h2><span class="section-number">2.6. </span>Transport independence<a class="headerlink" href="#transport-independence" title="Permalink to this heading">¶</a></h2>
<p>Embedded devices can receive over-the-air (OTA) firmware updates over different transport technologies, depending on the industry and the application. For example, this includes Wi-Fi, LTE, LoRa, and commercial low-power wide-area networks.</p>
<p>Some devices might not be directly connected to a network but may receive updates through a physical interface from an adjacent device, such as UART, CAN bus, or USB.</p>
<p>The Firmware Update API must be independent of the transport used by the update client to receive an update.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Firmware Update API does not cover reprogramming of a device using a debug interface, for example, JTAG or SWD.</p>
</div>
</section>
<section id="firmware-format-independence">
<h2><span class="section-number">2.7. </span>Firmware format independence<a class="headerlink" href="#firmware-format-independence" title="Permalink to this heading">¶</a></h2>
<p>Many device manufacturers and cloud service providers have established formats for firmware images and manifests, tailored to the specific needs of their systems and markets.</p>
<p>The Firmware Update API must be independent of the format and encoding of firmware images and manifests, to enable adoption of the interface by systems with existing formats.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New standards for firmware update within IoT are being developed, such as <span><em>A Firmware Update Architecture for Internet of Things</em> <a class="reference internal" href="../about.html#cite-rfc9019"><span class="cite">[RFC9019]</span></a></span>.</p>
<p>This version of the Firmware Update API is suitable for some of the use cases that are defined by <span><em>A Manifest Information Model for Firmware Updates in Internet of Things (IoT) Devices</em> <a class="reference internal" href="../about.html#cite-rfc9124"><span class="cite">[RFC9124]</span></a></span> and <span><em>A Concise Binary Object Representation (CBOR)-based Serialization Format for the Software Updates for Internet of Things (SUIT) Manifest</em> <a class="reference internal" href="../about.html#cite-suit-mfst"><span class="cite">[SUIT-MFST]</span></a></span>. For example, where the payloads are integrated in the manifest envelope, or there is just one external payload to the envelope.</p>
<p>Support for the more complex use cases from <a class="reference internal" href="../about.html#cite-rfc9124"><span class="cite">[RFC9124]</span></a>, with multiple external payloads, is not considered in version 1.0 of the Firmware Update API, but might be in scope for future versions of the interface.</p>
</div>
</section>
<section id="flexibility-for-different-hardware-designs">
<h2><span class="section-number">2.8. </span>Flexibility for different hardware designs<a class="headerlink" href="#flexibility-for-different-hardware-designs" title="Permalink to this heading">¶</a></h2>
<p>The Firmware Update API is designed to be reasonably efficient to implement on different system-on-chip (SoC) architectures, while providing a consistent interface for update clients to target.</p>
<p>For example, the Firmware Update API should be effective in the following types of system:</p>
<ul class="simple">
<li><p>SoCs that use bus filters, or equivalent security IP, to protect the <a class="reference internal" href="../about.html#term-spe"><span class="term">SPE</span></a>.</p></li>
<li><p>SoCs that use multiple CPUs, providing an isolated CPU and memories for the SPE and another for the <a class="reference internal" href="../about.html#term-nspe"><span class="term">NSPE</span></a>.</p></li>
<li><p>Simple SoCs that use an <a class="reference internal" href="../about.html#term-mpu"><span class="term">MPU</span></a> or equivalent to protect the SPE.</p></li>
<li><p>Systems that have unified on-chip non-volatile memory used for firmware storage.</p></li>
<li><p>Systems that have isolated on-chip non-volatile memory used for firmware storage.</p></li>
<li><p>Systems that have a mixture of on-chip and external non-volatile memory used for firmware storage.</p></li>
</ul>
</section>
<section id="suitable-for-composite-devices">
<h2><span class="section-number">2.9. </span>Suitable for composite devices<a class="headerlink" href="#suitable-for-composite-devices" title="Permalink to this heading">¶</a></h2>
<p>Some platforms have independent subsystems that are isolated from the main microprocessor. These subsystems can have their own firmware, which can also require updates. For example, radios, secure elements, secure enclaves, or other kinds of microcontroller.</p>
<p>The Firmware Update API must support an implementation updates these types of subsystem.</p>
</section>
<section id="robust-and-reliable-update">
<h2><span class="section-number">2.10. </span>Robust and reliable update<a class="headerlink" href="#robust-and-reliable-update" title="Permalink to this heading">¶</a></h2>
<p>Devices that are remotely deployed, or are deployed in large numbers, must use an update process that does not have routine failure modes that result in devices that cannot be remotely recovered.</p>
<p>The Firmware Update API must support an update process that reduces the risk of in-field update failure, without compromising the requirements for <a class="reference internal" href="../about.html#term-secure-boot"><span class="term">secure boot</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A device can also have an additional recovery capability, for example, a separate recovery firmware image that the bootloader can execute if the installed firmware cannot be verified.</p>
<p>The Firmware Update API might be useful for implementation of recovery firmware, but the requirements of recovery firmware are not considered in the interface design.</p>
</div>
</section>
<section id="flexibility-in-implementation-design">
<h2><span class="section-number">2.11. </span>Flexibility in implementation design<a class="headerlink" href="#flexibility-in-implementation-design" title="Permalink to this heading">¶</a></h2>
<p>The Firmware Update API is architectural and does not define a single implementation. An implementation can make trade-offs to target specific device needs. For example:</p>
<ul class="simple">
<li><p>An implementation can provide a more robust solution, while others optimize for device cost.</p></li>
<li><p>An implementation can optimize for bandwidth efficiency, while others optimize for simplicity</p></li>
<li><p>An implementation can provide fine-grained update of personalization data, while others perform monolithic updates of all code and data.</p></li>
<li><p>An implementation can provide enhanced security for stricter markets, such as those which require encrypted firmware images, while others only use the Firmware Update API to provide a common interface across all products.</p></li>
</ul>
<p>The Firmware Update API permits the omission of optional features that are not used by the implementation.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/Arm_logo_blue_RGB.svg" alt="Logo"/>
            </a></p><hr />
<h3><a href="../index.html"><b>PSA Certified<br />Firmware Update API</b></a></h3>
IHI 0093<br/>
Non-confidential<br/>
Version 1.0.0
<hr />
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About this document</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Design goals</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#suitable-for-constrained-devices">2.1. Suitable for constrained devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-platform-root-of-trust">2.2. Updating the Platform Root of Trust</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-the-application-root-of-trust">2.3. Updating the Application Root of Trust</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flexibility-for-different-trust-models">2.4. Flexibility for different trust models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#protocol-independence">2.5. Protocol independence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transport-independence">2.6. Transport independence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-format-independence">2.7. Firmware format independence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flexibility-for-different-hardware-designs">2.8. Flexibility for different hardware designs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#suitable-for-composite-devices">2.9. Suitable for composite devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#robust-and-reliable-update">2.10. Robust and reliable update</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flexibility-in-implementation-design">2.11. Flexibility in implementation design</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">3. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="programming-model.html">4. Programming model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">5. API reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/example-header.html">A. Example header file</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/examples.html">B. Example usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/variations.html">C. Variation in system design parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/sra.html">D. Security Risk Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/change-history.html">E. Document change history</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atg_c-identifiers.html">Index of API elements</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; 2020-2023 Arm Limited and/or its affiliates.
      
    </div>

    

    
  </body>
</html>