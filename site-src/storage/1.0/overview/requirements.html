---
---


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta property="og:title" content="3. Requirements" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{ page.url | absolute_url }}" />
<link rel="canonical" href="{{ page.url | absolute_url }}" />
<meta property="og:site_name" content="PSA Certified Secure Storage API 1.0" />
<meta property="og:description" content="Protected Storage requirements: The technology and techniques used by the Protected Storage service must allow for frequent writes and data updates., If writing to external storage, the Protected S..." />
<meta name="description" content="Protected Storage requirements: The technology and techniques used by the Protected Storage service must allow for frequent writes and data updates., If writing to external storage, the Protected S..." />

    <title>3. Requirements &#8212; PSA Certified Secure Storage API 1.0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="preconnect" type="text/css" href="https://fonts.googleapis.com" />
    <link rel="preconnect" type="text/css" href="https://fonts.gstatic.com" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&display=swap" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4. Theory of Operation" href="operation.html" />
    <link rel="prev" title="2. Architecture" href="architecture.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="requirements">
<h1><span class="section-number">3. </span>Requirements<a class="headerlink" href="#requirements" title="Permalink to this heading">¶</a></h1>
<section id="protected-storage-requirements">
<h2><span class="section-number">3.1. </span>Protected Storage requirements<a class="headerlink" href="#protected-storage-requirements" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>The technology and techniques used by the Protected Storage service must allow for frequent writes and data updates.</p></li>
<li><p>If writing to external storage, the Protected Storage service must provide confidentiality — unless the caller specifically requests integrity only.</p></li>
<li><p>Confidentiality for a Protected Storage service may be provided by cryptographic ciphers using device-bound keys, a tamper resistant enclosure, or an inaccessible deployment location, depending on the threat model of the deployed system. If using counter-based encryption, the service must ensure a fresh key and nonce pair is used for each object instance encrypted.</p></li>
<li><p>If writing to external storage, the Protected Storage service must provide integrity protection.</p></li>
<li><p>Integrity protection for a Protected Storage service may be provided by cryptographic Message Authentication Codes (MAC) or signatures generated using device-bound keys, a tamper resistant enclosure, or an inaccessible deployment location, depending on the threat model of the deployed system.</p></li>
<li><p>If writing to external storage, the Protected Storage service must provide replay protection by writing replay protection values through the Internal Trusted Storage API, unless the caller specifically requests no replay protection.</p></li>
<li><p>If providing services to <a class="reference internal" href="../about.html#term-secure-partition"><span class="term">Secure Partition</span></a>s, and the system isolates partitions from each other, then the Protected Storage service must provide protection from one partition accessing the storage assets of a different partition.</p></li>
<li><p>The Protected Storage service must use the partition identifier associated with each request for its access control mechanism.</p></li>
<li><p>If the Protected Storage service is providing services to other <a class="reference internal" href="../about.html#term-arot"><span class="term">ARoT</span></a> services, it must be implemented inside the ARoT itself.</p></li>
<li><p>If implemented inside the ARoT, the Protected Storage service can use helper services outside of the ARoT to perform actual read and write operations through the external interface or file system.</p></li>
<li><p>In the event of power failures or unexpected flash write failures, the implementation must attempt to fallback to allow retention of old content.</p></li>
<li><p>The creation of a <code class="docutils literal notranslate"><span class="pre">uid</span></code> with value <code class="docutils literal notranslate"><span class="pre">0</span></code> (zero) must be treated as an error.</p></li>
</ol>
</section>
<section id="internal-trusted-storage-requirements">
<span id="its-requirements"></span><h2><span class="section-number">3.2. </span>Internal Trusted Storage requirements<a class="headerlink" href="#internal-trusted-storage-requirements" title="Permalink to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>The storage underlying the Internal Trusted Storage service must be protected from read and modification by attackers with physical access to the device.</p></li>
<li><p>The storage underlying the Internal Trusted Storage service must be protected from direct read or write access from software partitions outside of the <a class="reference internal" href="../about.html#term-platform-root-of-trust"><span class="term">Platform Root of Trust</span></a>.</p></li>
<li><p>The technology and techniques used by the Internal Trusted Storage service must allow for frequent writes and data updates.</p></li>
<li><p>Confidentiality of data stored by the Internal Trusted Storage service can be implemented using an inaccessible deployment location, cryptographic ciphers, or a combination of these techniques.</p></li>
<li><p>Integrity of data stored by the Internal Trusted Storage service can be implemented using an inaccessible deployment location, cryptographic Message Authentication Codes (MAC) or signatures, or a combination of these techniques.</p></li>
<li><p>The Internal Trusted Storage service must provide protection from one partition accessing the storage assets of a different partition.</p></li>
<li><p>The Internal Trusted Storage service must use the partition identifier associated with each request for its access control mechanism.</p></li>
<li><p>The medium and methods utilized by a Internal Trusted Storage service must provide confidentiality within the threat model of the system.</p></li>
<li><p>The medium and methods utilized by a Internal Trusted service must provide integrity within the threat model of the system.</p></li>
<li><p>If the Debug Lifecycle state allows for a device to be debugged after deployment, then the Internal Trusted Storage service must provide confidentiality and integrity using cryptographic primitives with keys that are unavailable in the debug state.</p></li>
<li><p>If the device supports the <code class="docutils literal notranslate"><span class="pre">RECOVERABLE_PSA_ROT_DEBUG</span></code> Lifecycle state, then the Internal Trusted Storage service must provide confidentiality and integrity using cryptographic primitives with keys that are unavailable in the <code class="docutils literal notranslate"><span class="pre">RECOVERABLE_PSA_ROT_DEBUG</span></code> state.</p></li>
<li><p>In the event of power failures or unexpected flash write failures, the implementation must attempt to fallback to allow retention of old content.</p></li>
<li><p>In the extreme case of storage medium being completely non-accessible, no assurances can be made about the availability of the old content.</p></li>
<li><p>The <a class="reference internal" href="../api/api.html#c.PSA_STORAGE_FLAG_WRITE_ONCE" title="PSA_STORAGE_FLAG_WRITE_ONCE"><code class="xref any atg_c atg_c-ref docutils literal notranslate"><span class="pre">PSA_STORAGE_FLAG_WRITE_ONCE</span></code></a> must be enforced when the Root of Trust Lifecycle state of the device is <code class="docutils literal notranslate"><span class="pre">SECURED</span></code>  or <code class="docutils literal notranslate"><span class="pre">NON_PSA_ROT_DEBUG</span></code>. It must not be enforced when the device is in the <code class="docutils literal notranslate"><span class="pre">PSA_ROT_PROVISIONING</span></code> state.</p></li>
<li><p>The creation of a <code class="docutils literal notranslate"><span class="pre">uid</span></code> with value <code class="docutils literal notranslate"><span class="pre">0</span></code> (zero) must be treated as an error.</p></li>
</ol>
<p>The lifecycle states are described in <span><em>Platform Security Model</em> <a class="reference internal" href="../about.html#cite-psm"><span class="cite">[PSM]</span></a></span> and <span><em>Arm® Platform Security Architecture Firmware Framework</em> <a class="reference internal" href="../about.html#cite-psa-ffm"><span class="cite">[PSA-FFM]</span></a></span>.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/Arm_logo_blue_RGB.svg" alt="Logo"/>
            </a></p><hr />
<h3><a href="../index.html"><b>PSA Certified<br />Secure Storage API</b></a></h3>
IHI 0087<br/>
Non-confidential<br/>
Version 1.0.3
<hr />
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About this document</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">2. Architecture</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#protected-storage-requirements">3.1. Protected Storage requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#internal-trusted-storage-requirements">3.2. Internal Trusted Storage requirements</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="operation.html">4. Theory of Operation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/api.html">5. API Reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendix/headers.html">A. Example header files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/sra.html">B. Security Risk Assessment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendix/history.html">C. Document history</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../atg_c-identifiers.html">Index of API elements</a></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; 2018-2019, 2022-2024 Arm Limited and/or its affiliates.
      
    </div>

    

    
  </body>
</html>